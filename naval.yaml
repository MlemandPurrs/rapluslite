LST:
    Buildable:
        BuildPaletteOrder: 1
	Cargo:
		MaxWeight: 12
		PipCount: 12
        PassengerConditions:
            mgg: mgg-inside
            dtrk: demo-inside
    #       mrj: mrj-inside
	RepairableNear:
		Buildings: syrd, spen
	CreatesShroud:
		Range: 6c0
        RequiresCondition: mgg-inside
    RenderShroudCircle:
    #    RequiresCondition: !mgg-inside
    # Jamming still not conditional...
	# JamsMissiles:
	#	Range: 5c0
	#	DeflectionStances: Neutral, Enemy
    #    RequiresCondition: mrj-inside
	# RenderJammerCircle:
    #    RequiresCondition: mrj-inside
    Explodes@demotruck:
		Weapon: MiniNuke
		EmptyWeapon: MiniNuke
		DamageSource: Killer
        RequiresCondition: demo-inside

PT:
    Buildable:
        BuildPaletteOrder: 2
	-Turreted:
	Turreted@PRIMARY:
		Turret: primary
		TurnSpeed: 7
		Offset: 512,0,0
	Turreted@SECONDARY:
		Turret: secondary
		TurnSpeed: 5
		Offset: -461,0,18
	Armament@PRIMARY:
		Turret: primary
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
	Armament@SECONDARY:
		Turret: secondary
        PauseOnCondition: empdisable
    Armament@TERTIARY:
		Name: tertiary
        Turret: secondary
		Weapon: M60mg
        LocalOffset: 128,0,43
		MuzzleSequence: mg-muzzle
        PauseOnCondition: empdisable
    Armament@elite:
        Name: elite
        Turret: primary
		Weapon: 2Inch.elite
		LocalOffset: 208,0,48
		MuzzleSequence: muzzle
        PauseOnCondition: empdisable
        RequiresCondition: rank-elite
	AttackTurreted:
        Armaments: primary, secondary, tertiary, elite
		Turrets: primary, secondary
        PauseOnCondition: empdisable
	-WithSpriteTurret:
	WithSpriteTurret@PRIMARY:
		Turret: primary
		Sequence: turret
	WithSpriteTurret@SECONDARY:
		Turret: secondary
		Sequence: turret-dc

DD:
    Buildable:
        BuildPaletteOrder: 3
        Prerequisites: ~syrd, dome, ~!player.germany, ~techlevel.medium
	-Turreted:
	Turreted@PRIMARY:
		Turret: primary
		TurnSpeed: 7
		Offset: 469,0,128
	Turreted@SECONDARY:
		Turret: secondary
		TurnSpeed: 5
		Offset: -761,0,128
	Armament@PRIMARY:
		Turret: primary
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
	Armament@SECONDARY:
        Name: secondary
		Turret: secondary
		Weapon: DepthChargeDual
        PauseOnCondition: empdisable
	Armament@TERTIARY:
        Name: tertiary
		Turret: primary
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
    Armament@QUARTENARY:
		Name: quartenary
        Turret: secondary
		Weapon: M60mg
        LocalOffset: 128,0,43
		MuzzleSequence: mg-muzzle
    Armament@primary-elite:
        Name: primary.elite
		Weapon: Stinger.elite
        Turret: primary
		LocalOffset: 0,-150,0, 0,-100,0, 0,100,0, 0,150,0
		LocalYaw: 64, -64
        RequiresCondition: rank-elite
    Armament@secondary-elite:
		Weapon: StingerAA.elite
        Turret: primary
		LocalOffset: 0,-150,0, 0,-100,0, 0,100,0, 0,150,0
		LocalYaw: 64, -64
        RequiresCondition: rank-elite
	AttackTurreted:
        Armaments: primary, secondary, tertiary, quartenary, elite
		Turrets: primary, secondary
        PauseOnCondition: empdisable
	-WithSpriteTurret:
	WithSpriteTurret@PRIMARY:
		Turret: primary
		Sequence: turret
	WithSpriteTurret@SECONDARY:
		Turret: secondary
		Sequence: turret-dc
    WithMuzzleOverlay:

DD.Germany:
    Inherits: DD
    Buildable:
        Prerequisites: ~syrd, dome, ~player.germany, ~techlevel.medium
    RenderSprites:
        Image: dd
	ProducibleWithLevel:
		Prerequisites: techlevel.infonly
		InitialLevels: 1
    -MapEditorData:

CA:
    Buildable:
        BuildPaletteOrder: 4
        BuildDurationModifier: 60
	Valued:
		Cost: 2000
    Armament@PRIMARY:
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
    Armament@SECONDARY:
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
    Armament@primary-elite:
        Name: elite.primary
		Turret: primary
		Weapon: 8Inch.elite
		LocalOffset: 480,-100,40, 480,0,40, 480,100,40
		Recoil: 171
		RecoilRecovery: 34
		MuzzleSequence: muzzle
        PauseOnCondition: empdisable
        RequiresCondition: rank-elite
    Armament@secondary-elite:
        Name: elite.secondary
		Turret: secondary
		Weapon: 8Inch.elite
		LocalOffset: 480,-100,40, 480,0,40, 480,100,40
		Recoil: 171
		RecoilRecovery: 34
		MuzzleSequence: muzzle
        PauseOnCondition: empdisable
        RequiresCondition: rank-elite
    AttackTurreted:
        Armaments: primary, secondary, elite.primary, elite.secondary
        PauseOnCondition: empdisable
	WithSpriteTurret@PRIMARY:
		Turret: primary
        RequiresCondition: !rank-elite
	WithSpriteTurret@SECONDARY:
		Turret: secondary
        RequiresCondition: !rank-elite
	WithSpriteTurret@PRIMARYELITE:
        Sequence: turret-elite
		Turret: primary
        RequiresCondition: rank-elite
	WithSpriteTurret@SECONDARYELITE:
        Sequence: turret-elite
		Turret: secondary
        RequiresCondition: rank-elite

CARR:
	Inherits: ^Ship
	Buildable:
		Queue: Ship
		BuildAtProductionType: Boat
		BuildPaletteOrder: 5
		Prerequisites: ~syrd, hpad, ~player.england, ~techlevel.medium
		Description: Nautical Support vessel.\nCan be deployed, becoming immobile\nto rearm Helicopters at Sea.\n  Unarmed
	Valued:
		Cost: 1500
	Tooltip:
		Name: Helicraft Carrier
	Health:
		HP: 32500
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 7
		Speed: 85
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	SelectionDecorations:
	Selectable:
		DecorationBounds: 48,48
	Transforms:
		IntoActor: carr.deployed
		Offset: 0,0

CARR.Deployed:
	Inherits: ^Building
	-GivesBuildableArea:
	-RepairableBuilding:
	-WithBuildingRepairDecoration:
	-EngineerRepairable:
	-AcceptsDeliveredCash:
	-WithMakeAnimation:
	-CaptureManager:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-SpawnActorsOnSell:
	-GpsDot:
	GpsDot:
		String: Ship
	-Demolishable:
	-Sellable:
	-Explodes:
	Explodes:
		Weapon: UnitExplodeShip
		EmptyWeapon: UnitExplodeShip
	Selectable:
		Bounds: 48,48
	Valued:
		Cost: 1500
	Tooltip:
		Name: Helicraft Carrier
	Building:
		TerrainTypes: Water
		RequiresBaseProvider: False
	-RequiresBuildableArea:
	-ShakeOnDeath:
	Health:
		HP: 32500
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	SelectionDecorations:
	Selectable:
		DecorationBounds: 48,48
	Transforms:
		IntoActor: carr
		Offset: 0,0
	Reservable:
	WithDecoration@deployed:
		Image: pips
		Sequence: pip-deployed
		ReferencePoint: Top
		ZOffset: 256
	Targetable:
		TargetTypes: Ground, Water, Ship
	WithResupplyAnimation:
    -MapEditorData:
	SelfHealing:
		Step: -100
		Delay: 3
		HealIfBelow: 100
		DamageCooldown: 0
        RequiresCondition: disabled

SS:
    Buildable:
        BuildPaletteOrder: 2
	Valued:
		Cost: 775
    Armament:
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
	Armament@elite:
        Name: elite
		Weapon: TorpTube.elite
        LocalOffset: 0,-171,0, 0,171,0
		FireDelay: 2
        RequiresCondition: rank-elite
    AttackFrontal:
        Armaments: primary, elite
        PauseOnCondition: empdisable
	RevealsShroud:
		Range: 6c0
		RequiresCondition: !underwater
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 4c0
		RequiresCondition: !underwater
	RevealsShroud@UNDERWATER:
		Range: 3c0
		RequiresCondition: underwater
	RepairableNear:
		Buildings: spen
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 0
		CloakDelay: 50
		CloakSound: subshow1.aud
		UncloakSound: subshow1.aud
		CloakedCondition: underwater
		Palette: submerged
		UncloakOn: Attack, Heal, Dock, SelfHeal, Demolish
		PauseOnCondition: cloak-force-disabled || shallowcrossing || empdisable
	Targetable:
		TargetTypes: Ground, Water, Ship, Submarine, SeaDetonateAttack
		RequiresCondition: !underwater
	Targetable@UNDERWATER:
		TargetTypes: Underwater, Submarine, SeaDetonateAttack
		RequiresCondition: underwater
    Targetable@REPAIR:
		RequiresCondition: !underwater && damaged
		TargetTypes: Repair
	GrantConditionOnTerrain@CROSSINGFORD:
		Condition: shallowcrossing
		TerrainTypes: Shallow

SS.AG:
	Inherits: SS
	Valued:
		Cost: 950
	Buildable:
		Queue: Ship
		BuildAtProductionType: Submarine
		BuildPaletteOrder: 5
		Prerequisites: ~spen, stek, ~techlevel.high
		Description: Submerged multi-role unit\narmed with torpedoes and flak gun.\nCan carry two Infantry.\nCan detect other submarines.\n  Strong vs Naval units\n  Weak vs Ground units\n  Special Ability: Submerge
	Tooltip:
		Name: Attack Submarine
	Health:
		HP: 32500
	Mobile:
		TurnSpeed: 3
		Speed: 42
		RequiresCondition: !notmobile && !empdisable
	Armament@SECONDARY:
		Name: secondary
		Weapon: SubCannon
		LocalOffset: 612,0,192
		MuzzleSequence: muzzle
        PauseOnCondition: empdisable
	Armament@TERTIARY:
		Name: tertiary
		Weapon: SubCannonAA
		LocalOffset: 612,0,192
		MuzzleSequence: muzzle
        PauseOnCondition: empdisable
	AttackFrontal:
		Armaments: primary, elite, secondary, tertiary
	WithMuzzleOverlay:
	WithMoveAnimation:
		MoveSequence: move
		RequiresCondition: !underwater
	RenderSprites:
		Image: ADVSUB
	Cargo:
		MaxWeight: 2
		PipCount: 2
		Types: Infantry
		PassengerFacing: 0
		LoadingCondition: notmobile

MSUB:
    Buildable:
        BuildPaletteOrder: 4
		Description: Submerged anti-ground siege unit.\nCan detect other submarines.\n  Strong vs Buildings, Ground units, Aircraft\n  Weak vs Naval units\n  Special Ability: Submerge	
        BuildDurationModifier: 60
	Armament@PRIMARY:
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
    Armament@elite:
        Name: elite
		Weapon: SubMissile.elite
		LocalOffset: 0,-171,0, 0,171,0
		FireDelay: 2
        PauseOnCondition: empdisable
        RequiresCondition: rank-elite
    AttackFrontal:
        Armaments: primary, elite
        PauseOnCondition: empdisable
    -Armament@SECONDARY:
	Valued:
		Cost: 1750
	WithMoveAnimation:
		MoveSequence: move
		RequiresCondition: !underwater
	RenderSprites:
		Image: ADVMSUB
	RevealsShroud:
		Range: 8c0
		RequiresCondition: !underwater
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 6c0
		RequiresCondition: !underwater
	RevealsShroud@UNDERWATER:
		Range: 4c0
		RequiresCondition: underwater
	RepairableNear:
		Buildings: spen
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 0
		CloakDelay: 50
		CloakSound: subshow1.aud
		UncloakSound: subshow1.aud
		CloakedCondition: underwater
		Palette: submerged
		UncloakOn: Attack, Heal, Dock, SelfHeal, Demolish
		PauseOnCondition: cloak-force-disabled || shallowcrossing || empdisable
	Targetable:
		TargetTypes: Ground, Water, Ship, Submarine, SeaDetonateAttack
		RequiresCondition: !underwater
	Targetable@UNDERWATER:
		TargetTypes: Underwater, Submarine, SeaDetonateAttack
		RequiresCondition: underwater
	Targetable@REPAIR:
		RequiresCondition: !underwater && damaged
		TargetTypes: Repair
	GrantConditionOnTerrain@CROSSINGFORD:
		Condition: shallowcrossing
		TerrainTypes: Shallow

MSUB.AA:
    Buildable:
        BuildPaletteOrder: 3
	Inherits: MSUB
	Buildable:
		BuildPaletteOrder: 3
		Prerequisites: ~spen, dome, ~techlevel.medium
		Description: Submerged unit with anti-air capabilities.\nCan detect other submarines.\n  Strong vs Aircraft\n  Cannot attack ground units\n  Special Ability: Submerge
	Tooltip:
		Name: SAM Submarine
	Valued:
		Cost: 1250
	Health:
		HP: 25000
	Mobile:
		TurnSpeed: 4
		Speed: 71
	-Armament@PRIMARY:
	Armament@PRIMARY:
		Weapon: SubMissileAA
		LocalOffset: 0,-171,0, 0,171,0
		FireDelay: 2
        PauseOnCondition: empdisable
        RequiresCondition: !rank-elite
    -Armament@elite:
    Armament@elite:
        Name: elite
		Weapon: SubMissileAA.elite
		LocalOffset: 0,-171,0, 0,171,0
		FireDelay: 2
        PauseOnCondition: empdisable
        RequiresCondition: rank-elite
	-AttackFrontal:
	AttackFrontal:
        Armaments: primary, elite
        PauseOnCondition: empdisable
	-WithMoveAnimation:
	RenderSprites:
		Image: MSUB
	RevealsShroud:
		Range: 6c0
		RequiresCondition: !underwater
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 4c0
		RequiresCondition: !underwater
	RevealsShroud@UNDERWATER:
		Range: 3c0
		RequiresCondition: underwater

TBT:
	Inherits: ^Ship
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Ship
		BuildPaletteOrder: 6
		Prerequisites: tsla, stek, ~player.russia, ~techlevel.high
		Description: Ship with mounted Tesla coil\n  Immune to EMP\n  Strong vs Infantry, Navy\n  Weak vs Tanks, Aircraft
	Valued:
		Cost: 850
	Tooltip:
		Name: Tesla Boat
	Health:
		HP: 20000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 7
		Speed: 92
		RequiresCondition:
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Turreted:
		Offset: 1,0,170
	Armament:
		Weapon: TTankZap
		LocalOffset: 85,0,128
        RequiresCondition: !rank-elite
    Armament@elite:
        Name: elite
		Weapon: TTankZap.elite
		LocalOffset: 85,0,128
        RequiresCondition: rank-elite
	WithIdleOverlay@SPINNER:
		Sequence: spinner
	AttackTurreted:
        Armaments: primary, elite
	SelectionDecorations:
	Selectable:
		DecorationBounds: 36,36
	RepairableNear:
		Buildings: syrd, spen

FSUB:
	Inherits: ^Ship
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Ship
		BuildAtProductionType: Submarine
		BuildPaletteOrder: 6
		Prerequisites: ~spen, ftur, stek, ~player.ukraine, ~techlevel.medium
		Description: Submerged anti-ship unit\narmed with fireball launcher.\n Strong vs Ships and Infantry.\n Weak vs Aircraft and Defenses.
	Valued:
		Cost: 800
	Tooltip:
		Name: Flame Submarine
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 25000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 3
		Speed: 42
	RevealsShroud:
		Range: 6c0
		RequiresCondition: !underwater
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 4c0
		RequiresCondition: !underwater
	RevealsShroud@UNDERWATER:
		Range: 3c0
		RequiresCondition: underwater
	Armament:
		Weapon: FireballLauncher.Sub
		LocalOffset: 512,128,42, 512,-128,42
		PauseOnCondition: empdisable
    Turreted:
        TurnSpeed: 255
        Offset: 525,0,50
    WithSpriteTurret:
	AttackFrontal:
		PauseOnCondition: empdisable
	SelectionDecorations:
	AutoTarget:
		InitialStance: ReturnFire
		InitialStanceAI: ReturnFire
	AutoTargetPriority@DEFAULT:
		ValidTargets: Water, Underwater
	AutoTargetPriority@ATTACKANYTHING:
		ValidTargets: Water, Underwater
	DetectCloaked:
		CloakTypes: Underwater
		Range: 4c0
	Explodes:
		Weapon: UnitExplodeSubmarine
		EmptyWeapon: UnitExplodeSubmarine
	Selectable:
		DecorationBounds: 38,38
	Targetable:
		TargetTypes: Ground, Water, Ship, Submarine, Repair
		RequiresCondition: !underwater
	Targetable@UNDERWATER:
		TargetTypes: Underwater, Submarine
		RequiresCondition: underwater
	RepairableNear:
		Buildings: spen
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 0
		CloakDelay: 50
		CloakSound: subshow1.aud
		UncloakSound: subshow1.aud
		CloakedCondition: underwater
		Palette: submerged
		UncloakOn: Attack, Heal, Dock, SelfHeal, Demolish
		PauseOnCondition: cloak-force-disabled || shallowcrossing || empdisable
	Targetable:
		TargetTypes: Ground, Water, Ship, Submarine, SeaDetonateAttack
		RequiresCondition: !underwater
	Targetable@UNDERWATER:
		TargetTypes: Underwater, Submarine, SeaDetonateAttack
		RequiresCondition: underwater
	Targetable@REPAIR:
		RequiresCondition: !underwater && damaged
		TargetTypes: Repair
	GrantConditionOnTerrain@CROSSINGFORD:
		Condition: shallowcrossing
		TerrainTypes: Shallow
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
    Explodes@elite:
		Weapon: MiniNuke
		EmptyWeapon: MiniNuke
		DamageSource: Killer
        RequiresCondition: rank-elite
