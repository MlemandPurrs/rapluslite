
MINE:
	Tooltip:
		Name: Blossom Tree (Green)
		ShowOwnerRow: false
	WithIdleAnimation:
	RenderSprites:
		Image: mine2
		Palette: tibtreefix

GMINE:
	Tooltip:
		Name: Blossom Tree (Blue)
		ShowOwnerRow: false
	WithIdleAnimation:
	RenderSprites:
		Image: gmine2
		Palette: tibtreefix

cnc.cyrd:
	Inherits: FACT
	Inherits@97: ^BuildingAffectedByEMP
	-Selectable:
	Selectable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	-Transforms:
	Transforms:
		RequiresCondition: factundeploy && !build-incomplete
		PauseOnCondition: chrono-vortex || being-captured || being-demolished
		IntoActor: cnc.mcv
		Offset: 1,1
		Facing: 96
	Power:
		Amount: 30
	-ProvidesPrerequisite@allies:
	-ProvidesPrerequisite@alliesvanilla:
	-ProvidesPrerequisite@england:
	-ProvidesPrerequisite@france:
	-ProvidesPrerequisite@germany:
	-ProvidesPrerequisite@soviet:
	-ProvidesPrerequisite@sovietvanilla:
	-ProvidesPrerequisite@russia:
	-ProvidesPrerequisite@ukraine:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: structures.gdi
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: structures.nod
	Production:
		Produces: Building,Defense
		PauseOnCondition: disabled
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn,cnc.e6
	RenderSprites:
		Image: cncfact
		FactionImages:
			gdi: cncfactgdi
			nod: cncfactnod
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: cnc.cyrd.husk

cnc.powr:
	Inherits: POWR
	Inherits@97: ^BuildingAffectedByEMP
	-HitShape:
	HitShape:
		TargetableOffsets: 630,299,0
	Buildable:
		BuildPaletteOrder: 1
		Prerequisites: ~techlevel.infonly
	Building:
		Footprint: xX xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	RenderSprites:
		Image: cncpowr
		FactionImages:
			gdi: cncpowr
			nod: cncpowrnod
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	WithIdleOverlay@SMOKE:
		RequiresCondition: !build-incomplete && critical-for-smoke
		Sequence: idle-smoke
	GrantConditionOnPowerState@CRITICAL:
		Condition: critical-for-smoke
		ValidPowerStates: Low, Critical
	SpawnActorOnDeath:
		Actor: cnc.powr.husk
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding

cnc.apwr:
	Inherits: cnc.powr
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		Queue: Building
		BuildPaletteOrder: 9
		Prerequisites: anyhq, ~techlevel.medium
		Description: Provides double the power of\na standard Power Plant.
	Valued:
		Cost: 600
	Tooltip:
		Name: Advanced Power Plant
	Power:
		Amount: 200
	RenderSprites:
		Image: cncapwr
		FactionImages:
			gdi: cncapwr
			nod: cncapwrnod
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	SpawnActorOnDeath:
		Actor: cnc.apwr.husk
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding

cnc.refn:
	Inherits: PROC
	Inherits@97: ^BuildingAffectedByEMP
	-HitShape:
	-HitShape@TOP:
	-HitShape@BOTTOMLEFT:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 853
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1450
			BottomRight: 896, -512
	Buildable:
		BuildPaletteOrder: 2
		Prerequisites: ~techlevel.infonly
		Description: Refines Tiberium into credits.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Tiberium Refinery
	Building:
		Footprint: _x_ xxx === ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	-Refinery:
	Refinery:
		DockAngle: 112
		DockOffset: 0,2
		IsDragRequired: True
		DragOffset: -554,512,0
		DragLength: 12
		TickRate: 15
		DiscardExcessResources: Yes
	-Selectable:
	Selectable:
		Bounds: 72,56
		DecorationBounds: 73,72
	CustomSellValue:
		Value: 500
	-FreeActor:
	FreeActorWithDelivery:
		Actor: cnc.harv
		DeliveryOffset: 1,2
		DeliveringActor: cnc.v22.delivery
		Facing: 64
	# FreeActor:
	#	Actor: cnc.harv
	#	SpawnOffset: 1,2
	#	Facing: 64	
	ProvidesPrerequisite@refn:
		Prerequisite: refinery
	WithResourceLevelOverlay:
		RequiresCondition: !build-incomplete
	-WithIdleOverlay@TOP:
	RenderSprites:
		Image: cncproc
		FactionImages:
			gdi: cncprocgdi
			nod: cncprocnod
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	WithIdleOverlay@CAULDRON:
		RequiresCondition: !build-incomplete
		Sequence: idle-cauldron
		Palette: greentiberium
		PauseOnCondition: disabled
	-InfiltrateForCash:
	InfiltrateForCash:
		Percentage: 33
		Types: ThiefInfiltrate,SpyInfiltrate
		Notification: CreditsStolen
	SpawnActorOnDeath:
		Actor: cnc.refn.husk
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding

cnc.silo:
	Inherits: SILO
	Inherits@shape: ^2x1Shape
	Inherits@97: ^BuildingAffectedByEMP
	-Selectable:
	Selectable:
		Bounds: 48,24
		DecorationBounds: 49,30
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 3
		Prerequisites: ~refinery, techlevel.infonly
		Description: Stores excess refined Tiberium.\nThe stored resources are secured against Theft.\nSpecial: Periodic Income\nPeriodically generates minor income\naslong not low on power.
	Valued:
		Cost: 150
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	CashTrickler:
		Interval: 600
		InitialDelay: 600
		Amount: 30
		PauseOnCondition: lowpower || disabled || build-incomplete
	CashTricklerBar:
	-InfiltrateForCash:
	Tooltip:
		Name: Tiberium Silo
	Building:
		Footprint: xx
		Dimensions: 2,1
	StoresResources:
		PipColor: Green
	RenderSprites:
		Image: cncsilo
		FactionImages:
			gdi: cncsilo
			nod: cncsilonod
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: cnc.silo.husk

cnc.silo.new:
	Inherits: cnc.silo
	Buildable:
		Prerequisites: ~disabled
	-WithResourceLevelSpriteBody:
	WithSpriteBody:
	# doesnt accept Palette: this effort was moot
	WithResourceLevelOverlay:
		RequiresCondition: !build-incomplete
	#	Palette: greentiberium
	-RenderSprites:
	RenderSprites:
		Image: cncsilogdi.new
		FactionImages:
			gdi: cncsilogdi.new
			nod: cncsilonod.new

cnc.barr:
	Inherits: BARR
	Inherits@97: ^BuildingAffectedByEMP
	-ProvidesPrerequisite@soviet:
	-ProvidesPrerequisite@sovietvanilla:
	-ProvidesPrerequisite@russia:
	-ProvidesPrerequisite@ukraine:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: infantry.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: infantry.nod
		ResetOnOwnerChange: True
	-HitShape:
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,-256,0, 840,512,0, 210,-512,0, -71,512,0
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 640
	Buildable:
		BuildPaletteOrder: 3
		Prerequisites: ~structures.gdi, ~techlevel.infonly
		Description: Trains Infantry units.\nHeals Infantry units in vicinity.
	Tooltip:
		Name: Barracks
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: disabled
	-Exit@1:
	-Exit@2:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -426,85,0
		ExitCell: 0,1
		ProductionTypes: Infantry, Soldier
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 298,298,0
		ExitCell: 1,1
		ProductionTypes: Infantry, Soldier
	RenderSprites:
		Image: cncbarr
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	ProximityExternalCondition@barracksheal:
		Condition: barracks
		ValidStances: Ally
		Range: 2c512
	WithRangeCircle:
		Range: 2c512
	SpawnActorOnDeath:
		Actor: cnc.barr.husk
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding

cnc.hand.old:
	Inherits: BARR
	Inherits@97: ^BuildingAffectedByEMP
	-ProvidesPrerequisite@soviet:
	-ProvidesPrerequisite@sovietvanilla:
	-ProvidesPrerequisite@russia:
	-ProvidesPrerequisite@ukraine:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: infantry.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: infantry.nod
		ResetOnOwnerChange: True
	-HitShape:
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Buildable:
		BuildPaletteOrder: 3
		Prerequisites: ~disabled
		Description: Trains Infantry units.\nHeals Infantry units in vicinity.
	Tooltip:
		Name: Hand of Nod
	RallyPoint:
		Offset: 1,2
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: disabled
	-Exit@1:
	-Exit@2:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -1026,380,0
		ExitCell: 0,2
		ProductionTypes: Infantry, Soldier
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 298,1024,0
		ExitCell: 1,2
		ProductionTypes: Infantry, Soldier
	-Selectable:
	Selectable:
		Bounds: 48,48
		DecorationBounds: 48,68,0,-10
	RenderSprites:
		Image: cnchand
		FactionImages:
			gdi: cnchand
			nod: cnchandnod
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	ProximityExternalCondition@barracksheal:
		Condition: barracks
		ValidStances: Ally
		Range: 2c512
	WithRangeCircle:
		Range: 2c512
	SpawnActorOnDeath:
		Actor: cnc.hand.husk

cnc.hand:
	Inherits: cnc.hand.old
	Buildable:
		Prerequisites: ~structures.nod, ~techlevel.infonly
	WithProductionDoorOverlay:
		RequiresCondition: !build-incomplete
		Sequence: build-top
	-RenderSprites:
	RenderSprites:
		Image: cnchandanim
	SpawnActorOnDeath:
		Actor: cnc.hand.nod.husk
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding

cnc.weap:
	Inherits: WEAP
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLE: ^DisableOnPowerDown
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Buildable:
		BuildPaletteOrder: 4
		Prerequisites: refinery, ~structures.gdi, ~techlevel.low
		Description: Produces Vehicle units.
	Building:
		Footprint: xxx === ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Tooltip:
		Name: War Factory
	ProvidesPrerequisite:
		Prerequisite: vehicleproduction
	Production:
		Produces: Vehicle
		PauseOnCondition: disabled
	RallyPoint:
		Offset: 0,2
	-ProvidesPrerequisite@allies:
	-ProvidesPrerequisite@alliesvanilla:
	-ProvidesPrerequisite@england:
	-ProvidesPrerequisite@france:
	-ProvidesPrerequisite@germany:
	-ProvidesPrerequisite@soviet:
	-ProvidesPrerequisite@sovietvanilla:
	-ProvidesPrerequisite@russia:
	-ProvidesPrerequisite@ukraine:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: vehicles.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: vehicles.nod
		ResetOnOwnerChange: True
	-Exit@1:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -512,-512,0
		ExitCell: 0,1
		ExitDelay: 3
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -512,-512,0
		ExitCell: 0,2
		ExitDelay: 3
	GrantExternalConditionToProduced:
		Condition: produced
	RenderSprites:
		Image: cncweap
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,64,0,-16
	SelectionDecorations:
	WithProductionOverlay@SMOKE:
		Queues: Vehicle
		Sequence: build-smoke
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	SpawnActorOnDeath:
		Actor: cnc.weap.husk

cnc.weap.mobile:
	Inherits: ^Building
	Inherits@97: ^BuildingAffectedByEMP
	Tooltip:
		Name: Mobile War Factory (deployed)
	Valued:
		Cost: 1500
	Buildable:
		Queue: Building
		BuildPaletteOrder: 999
		Prerequisites: ~disabled
	Building:
		Footprint: ___ xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	-GivesBuildableArea:
	-Sellable:
	WithBuildingBib:
	WithProductionDoorOverlay:
		RequiresCondition: !build-incomplete
		Sequence: build-top
	RallyPoint:
		Offset: 0,3
	Exit@1:
		SpawnOffset: 0,256,0
		ExitCell: 1,2
		ExitDelay: 3
	Production:
		Produces: MWFVehicle
        PauseOnCondition: disabled
	ProductionQueue:
		Type: MWFVehicle
		Group: Vehicle
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		LowPowerModifier: 300
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: vehicles.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: vehicles.nod
		ResetOnOwnerChange: True
	ProductionBar:
		ProductionType: MWFVehicle
	GrantExternalConditionToProduced:
		Condition: produced
	ProvidesPrerequisite:
		Prerequisite: vehicleproduction
	ProvidesPrerequisite@buildingname:
	WithBuildingBib:
	Transforms:
		IntoActor: cnc.mwf
		Offset: 1,1
		Facing: 96
		RequiresCondition: !build-incomplete
		PauseOnCondition: being-captured || being-demolished
	SpawnActorOnDeath:
		Actor: cnc.weap.mobile.husk

cnc.weap.nod:
	Inherits: cnc.weap
	Buildable:
		BuildPaletteOrder: 4
		Prerequisites: refinery, ~structures.nod, ~techlevel.low, ~global-enable-prodsymmetry
	-Exit@1:
	Exit@1:
		SpawnOffset: 512,-512,0
		ExitCell: 1,2
		ExitDelay: 3
	-Exit@2:
	Exit@2:
		SpawnOffset: 512,-512,0
		ExitCell: 2,2
		ExitDelay: 3
	RenderSprites:
		Image: cncweapnod
	-SpawnActorOnDeath:
	SpawnActorOnDeath:
		Actor: cnc.weap.nod.husk

cnc.strp:
	Inherits: WEAP
	Inherits@97: ^BuildingAffectedByEMP
	HitShape:
		TargetableOffsets: 0,0,0, 0,-512,256, 0,-1451,384, 0,512,128, 0,1536,85
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Buildable:
		BuildPaletteOrder: 4
		Prerequisites: refinery, ~structures.nod, ~techlevel.low, ~!global-enable-prodsymmetry
		Description: Provides a dropzone\nfor vehicle reinforcements
	Tooltip:
		Name: Airstrip
	-ProvidesPrerequisite@allies:
	-ProvidesPrerequisite@alliesvanilla:
	-ProvidesPrerequisite@england:
	-ProvidesPrerequisite@france:
	-ProvidesPrerequisite@germany:
	-ProvidesPrerequisite@soviet:
	-ProvidesPrerequisite@sovietvanilla:
	-ProvidesPrerequisite@russia:
	-ProvidesPrerequisite@ukraine:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: vehicles.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: vehicles.nod
		ResetOnOwnerChange: True
	ProvidesPrerequisite:
		Prerequisite: vehicleproduction
	Building:
		Footprint: XXXX xxxx ====
		Dimensions: 4,3
		LocalCenterOffset: 0,-512,0
	RallyPoint:
		Offset: 4,2
	-Production:
	ProductionAirdrop:
		Produces: Vehicle
		ActorType: badr.delivery
		ReadyAudio: ReinforcementsArrived
		PauseOnCondition: disabled
	Exit@1:
		SpawnOffset: -1024,0,0
		ExitCell: 3,1
	Exit@2:
		SpawnOffset: -1024,0,0
		ExitCell: 3,0
	Exit@3:
		SpawnOffset: -1024,0,0
		ExitCell: 3,2
	GrantExternalConditionToProduced:
		Condition: produced
	WithIdleOverlay@DISH:
		RequiresCondition: !build-incomplete
		Sequence: idle-dish
	WithDeliveryAnimation:
		RequiresCondition: !build-incomplete
	-WithProductionDoorOverlay:
	RenderSprites:
		Image: cncstrp
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	SpawnActorOnDeath:
		Actor: cnc.strp.husk

cnc.fix:
	Inherits: FIX
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLE: ^DisableOnPowerDown
	Buildable:
		Queue: Building
		BuildPaletteOrder: 7
		Prerequisites: vehicleproduction, ~techlevel.medium
		Description: Repairs vehicles for credits.
	Building:
		Footprint: === xxx ===
		Dimensions: 3,3
	Valued:
		Cost: 800
	RenderSprites:
		Image: cncfix
		FactionImages:
			gdi: cncfix
			nod: cncfixnod
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	RepairsUnits:
		PauseOnCondition: disabled
	ProximityExternalCondition@ONPAD:
		Condition: OnPad
		Range: 1c512
		ValidStances: Ally
		AffectsParent: False
	SpawnActorOnDeath:
		Actor: cnc.fix.husk

cnc.comm:
	Inherits: DOME
	Inherits@97: ^BuildingAffectedByEMP
	-HitShape:
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,0, 420,-598,256
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	Valued:
		Cost: 1000
	ProvidesPrerequisite:
		Prerequisite: anyhq
	Buildable:
		BuildPaletteOrder: 5
		Prerequisites: ~disabled
	Tooltip:
		Name: Communications Center
	Building:
		Footprint: Xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 48,40,0,9
		DecorationBounds: 48,53,0,-4
	WithSpriteBody:
		PauseOnCondition: disabled
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !disabled
	RenderSprites:
		Image: cnchq
		FactionImages:
			gdi: cnchq
			nod: cnchqnod
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	SupportPowerChargeBar:
	SpawnActorOnDeath:
		Actor: cnc.comm.husk
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	RallyPoint:
		Offset: 0,2
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -750,750,0
		ExitCell: 0,2
		ProductionTypes: Spy, Infantry
	Production:
		Produces: Infantry, Spy
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	ProductionBar:
		ProductionType: Infantry
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary

cnc.comm.gdi:
	Inherits: cnc.comm
	Buildable:
		BuildPaletteOrder: 5
		Prerequisites: refinery, ~structures.gdi, ~techlevel.medium
		Description: Provides an overview\nof the battlefield.\nCan detect cloaked units.\nRequires power to operate.\n  Special Ability: Recon Drone\nAn UAV reveals a strip of the map\nand cloaked enemy units within sight.
	-Tooltip:
	Tooltip@BASE:
		Name: Communications Center
		RequiresCondition: !eyeupgrade
	Tooltip@UPGRADED:
		Name: Advanced Communications Center
		RequiresCondition: eyeupgrade
	ProvidesPrerequisite@eyeupgrade:
		Prerequisite: cnc.eye
		RequiresCondition: eyeupgrade
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		PauseOnCondition: disabled
		RequiresCondition: !eyeupgrade && !build-incomplete
	WithIdleOverlay@OTHERDISH:
		Sequence: idle-dish2
		PauseOnCondition: disabled
		RequiresCondition: !build-incomplete
	WithIdleOverlay@EYE:
		Sequence: idle-dish3
		PauseOnCondition: disabled
		RequiresCondition: eyeupgrade && !build-incomplete
	AirstrikePower@ReconDrone:
		PauseOnCondition: disabled
		OrderName: GDIDronePower
		Prerequisites: ~techlevel.unrestricted
		Icon: uavicon
		ChargeInterval: 7500
		Description: Recon Drone
		LongDesc: An UAV reveals a strip of the map\nand cloaked enemy units within sight.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera.spyplane
		CameraRemoveDelay: 0
		UnitType: cnc.uav
		QuantizedFacings: 32
		DisplayBeacon: true
		BeaconPoster: uavicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 3
	IonCannonPower@IonCannon:
		RequiresCondition: eyeupgrade
		PauseOnCondition: disabled
		Prerequisites: ~techlevel.unrestricted
		OrderName: IonCannonPower
		Icon: ioncannon
		# Cursor: ioncannon
		ChargeInterval: 6750
		Description: Ion Cannon
		LongDesc: Initiate an Ion Cannon strike.\nApplies instant damage to an small area.
		# BeginChargeSpeechNotification: IonCannonCharging
		# EndChargeSpeechNotification: IonCannonReady
		# SelectTargetSpeechNotification: SelectTarget
		# InsufficientPowerSpeechNotification: InsufficientPower
		OnFireSound: ion1.aud
		DisplayRadarPing: True
		CameraActor: camera.paradrop
		SupportPowerPaletteOrder: 2
	SupportPowerChargeBar:
	-RenderSprites:
	RenderSprites:
		Image: cnchqnew
	Pluggable:
		Conditions:
			eyeupgrade: eyeupgrade
		Requirements:
			eyeupgrade: !eyeupgrade && !build-incomplete
	-Power:
	Power@BASE:
		Amount: -40
		RequiresCondition: !eyeupgrade
	Power@UPGRADED:
		Amount: -80
		RequiresCondition: eyeupgrade
	SpawnActorOnDeath@BASE:
		Actor: cnc.comm.gdi.husk
		RequiresCondition: !eyeupgrade
	SpawnActorOnDeath@UPGRADED:
		Actor: cnc.eye.old.husk
		RequiresCondition: eyeupgrade

cnc.comm.nod:
	Inherits: cnc.comm
	Buildable:
		BuildPaletteOrder: 5
		Prerequisites: refinery, ~structures.nod, ~techlevel.medium
		Description: Provides an overview\nof the battlefield.\nCan detect cloaked units.\nRequires power to operate.\n  Special Ability: Radar Scan\nReveals an area of the map\nand cloaked enemy units there.\n (requires Intelligence Center)
	SpawnActorPower@RadarScan:
		PauseOnCondition: disabled
		OrderName: RadarScanPowerInfoOrder
		Actor: camera.spyplane
		Prerequisites: ~cnc.ncom, ~techlevel.unrestricted
		LifeTime: 300
		ChargeInterval: 3750
		Icon: radarscan
		Description: Radar Scan
		LongDesc: Reveals an area of the map and cloaked enemy units there.
		StartFullyCharged: false
		SelectTargetSpeechNotification: SelectTarget
		SupportPowerPaletteOrder: 3
	SupportPowerChargeBar:
	-RenderSprites:
	RenderSprites:
		Image: cnchqnod
	SpawnActorOnDeath:
		Actor: cnc.comm.nod.husk

cnc.eye:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 1500
	Tooltip:
		Name: Sattelite Uplink
	Buildable:
		BuildPaletteOrder: 11
		Prerequisites: anytech, !cnc.eye, ~structures.gdi, ~!aitoodumb, ~techlevel.high
		Queue: Building
		BuildLimit: 1
		Description: Add an Sattelite Uplink to\nan Communications Center.\n Maximum 1 can be built.\n  Special Ability: Ion Cannon Strike\nApplies instant damage to an small area.
	# Power:
	#	Amount: -60
	Plug:
		Type: eyeupgrade

cnc.eye.old:
	Inherits: cnc.comm
	Buildable:
		BuildPaletteOrder: 11
		BuildLimit: 1
		Prerequisites: anytech, ~structures.gdi, ~aitoodumb, ~techlevel.high
		Description: Provides Radar and Ion Cannon.\n Maximum 1 can be built.\n  Special Ability: Ion Cannon Strike\nApplies instant damage to an small area.
	Tooltip:
		Name: Advanced Communications Center
	Valued:
		Cost: 1500
	IonCannonPower@IonCannon2:
		PauseOnCondition: disabled
		Prerequisites: ~techlevel.unrestricted
		OrderName: IonCannonPower
		Icon: ioncannon
		# Cursor: ioncannon
		ChargeInterval: 6750
		Description: Ion Cannon
		LongDesc: Initiate an Ion Cannon strike.\nApplies instant damage to an small area.
		# BeginChargeSpeechNotification: IonCannonCharging
		# EndChargeSpeechNotification: IonCannonReady
		# SelectTargetSpeechNotification: SelectTarget
		# InsufficientPowerSpeechNotification: InsufficientPower
		OnFireSound: ion1.aud
		DisplayRadarPing: True
		CameraActor: camera.paradrop
		SupportPowerPaletteOrder: 2
	-RenderSprites:
	RenderSprites:
		Image: cnc.eye.old
	-SpawnActorOnDeath:
	SpawnActorOnDeath:
		Actor: cnc.eye.old.husk
	-Power:
	Power:
		Amount: -80

cnc.intc:
	Inherits: DOME
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		Queue: Building
		BuildPaletteOrder: 11
		Prerequisites: anytech, ~structures.nod, ~techlevel.high
		BuildLimit: 1
		Description: Secret lair of Nod hacker teams.\n Requires power to operate.\n Passive Ability: Scrambling\nObscures enemy vision in a radius around itself.\n  Special Ability: Sattelite Hack\nBlackouts the opposition's minimap for an brief duration.
	Tooltip:
		Name: Intelligence Center
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 50000
	RevealsShroud:
		Range: 5c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 2c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 4c0
		RequiresCondition: !disabled
	-ProvidesRadar:
	-InfiltrateForExploration:
	CreatesShroud:
		Range: 10c0
		RequiresCondition: !jammed && !disabled
	RenderShroudCircle:
	Valued:
		Cost: 1200
	# Production:
	#	Produces: Intelligence
	#	PauseOnCondition: disabled
	SpawnActorPower@BLACKOUT:
		PauseOnCondition: disabled
		Prerequisites: ~techlevel.unrestricted
		Description: Sattelite Hack
		LongDesc: Blackouts the opposition's minimap for a while.
		Icon: sathack
		Actor: camera.sathack
		LifeTime: 300
		# Type: Intelligence
		ChargeInterval: 7500
		OrderName: SatteliteHackPowerInfoOrder
		SupportPowerPaletteOrder: 2
	SupportPowerChargeBar:
	# Exit@1:
	# ExitsDebugOverlay:
	RenderSprites:
		Image: cncncom
	SpawnActorOnDeath:
		Actor: cnc.intc.husk

camera.sathack:
	Inherits: CAMERA
	EditorOnlyTooltip:
		Name: (SatHack support power proxy)
	-RevealsShroud:
	ProximityExternalCondition@JAMMER:
		Range: 1000c0
		ValidStances: Enemy, Neutral
		Condition: jammed

cnc.hpad:
	Inherits: HPAD
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		BuildPaletteOrder: 6
		Prerequisites: anyhq, ~techlevel.low
		Description: Produces, reloads and repairs helicopters.
	-ProvidesPrerequisite@allies:
	-ProvidesPrerequisite@alliesvanilla:
	-ProvidesPrerequisite@england:
	-ProvidesPrerequisite@france:
	-ProvidesPrerequisite@germany:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: aircraft.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: aircraft.nod
		ResetOnOwnerChange: True
	RenderSprites:
		Image: cnchpad
		FactionImages:
			gdi: cnchpad
			nod: cnchpadnod
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	RepairsUnits:
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
	Building:
		Footprint: xx ==
		Dimensions: 2,2
	-WithBuildingBib:
	Production:
		Produces: Aircraft, Helicopter
		PauseOnCondition: disabled
	SpawnActorOnDeath:
		Actor: cnc.hpad.husk

cnc.afld:
	Inherits: AFLD
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		BuildPaletteOrder: 12
		Prerequisites: anyhq, ~techlevel.high
		Description: Produces, reloads and repairs aircraft.\n  Special Ability: Paratroopers\nA Cargo Plane drops a squad of infantry\nanywhere on the map.
	-ProvidesPrerequisite@soviet:
	-ProvidesPrerequisite@sovietvanilla:
	-ProvidesPrerequisite@russia:
	-ProvidesPrerequisite@ukraine:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: aircraft.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: aircraft.nod
		ResetOnOwnerChange: True
	ProvidesPrerequisite@airfield:
		Prerequisite: planeproduction
	ParatroopersPower@paratroopers:
		OrderName: CnCParatroopers
		Prerequisites: ~barracks, ~techlevel.unrestricted
		Icon: cncparatroopers
		ChargeInterval: 7500
		Description: Paratroopers
		LongDesc: A Cargo Plane drops a squad of infantry\nanywhere on the map.
		DropItems: cnc.e1.r1,cnc.e3.r1,cnc.e1.r1,cnc.e3.r1,cnc.e1.r1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		PauseOnCondition: lowpower
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 4
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn
	RenderSprites:
		Image: cncafld
	Production:
		Produces: Aircraft, Plane
		PauseOnCondition: disabled
	SpawnActorOnDeath:
		Actor: cnc.afld.husk
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	RepairsUnits:
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15

cnc.syrd:
	Inherits: SYRD
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: anypower, ~techlevel.low
	Valued:
		Cost: 750
	Production:
		Produces: Ship, Boat
		PauseOnCondition: disabled
	DetectCloaked:
		CloakTypes: Underwater
		Range: 5c0
		RequiresCondition: !disabled
	-ProvidesPrerequisite@allies:
	-ProvidesPrerequisite@alliesvanilla:
	-ProvidesPrerequisite@england:
	-ProvidesPrerequisite@france:
	-ProvidesPrerequisite@germany:
	ProvidesPrerequisite@gdi:
		Factions: gdi
		Prerequisite: ships.gdi
		ResetOnOwnerChange: True
	ProvidesPrerequisite@nod:
		Factions: nod
		Prerequisite: ships.nod
		ResetOnOwnerChange: True
	RenderSprites:
		Image: cncsyrd
	ProximityExternalCondition@MINEREPLENISH:
		Condition: replenishsmine
		Range: 5c0
		RequiresCondition: !disabled

cnc.tech:
	Inherits: STEK
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 8
		BuildLimit: 1
		Prerequisites: vehicleproduction, anyhq, ~structures.gdi, ~techlevel.high
		Description: Unlocks production of Hi-tech Tier units and buildings.\n Maximum 1 can be built.\nProvides Air Strike support power.\nRequires Power to operate.
	Tooltip:
		Name: Technology Center
	AirstrikePower@Warthogs:
		OrderName: GDIWarthogsPower
		Prerequisites: ~techlevel.unrestricted
		PauseOnCondition: disabled
		Icon: airstrike
		ChargeInterval: 7500
		SquadSize: 3
		QuantizedFacings: 8
		Description: Air Strike
		LongDesc: Deploy an aerial napalm strike.\nBurns buildings and infantry along a line.
		SelectTargetSpeechNotification: SelectTarget
		UnitType: cnc.a10.bomber
		DisplayBeacon: True
		BeaconPoster: airstrike
		DisplayRadarPing: True
		CameraActor: camera.paradrop
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 1
	SupportPowerChargeBar:
	RenderDetectionCircle:
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled && !build-incomplete
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn,cnc.e6
	ProvidesPrerequisite:
		Prerequisite: anytech
	RenderSprites:
		Image: cnctech
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: cnc.tech.husk
	InfiltrateForSupportPower:
		Proxy: tech.stolen.gdi
		Types: SpyInfiltrate

cnc.tech.nod:
	Inherits: cnc.tech
	Buildable:
		Queue: Building
		BuildPaletteOrder: 8
		BuildLimit: 1
		# Prerequisites: vehicleproduction, anyhq, ~structures.nod, ~techlevel.high
		Prerequisites: ~disabled
		Description: Unlocks production of Hi-tech Tier units and buildings.\n Maximum 1 can be built.\nProvides Air Strike support power.\nRequires Power to operate.
	-AirstrikePower@Warthogs:
	AirstrikePower@StealthBomber:
		OrderName: NodParanuke
		PauseOnCondition: disabled
		Prerequisites: ~techlevel.unrestricted
		Icon: paranuke
		ChargeInterval: 7500
		Description: Paranuke
		LongDesc: A Stealth Bomber drops parachuted\nnuclear bomb on your target.\nThe warhead is an low yield nuclear detonation,\nthat is more effective against units rather than structures.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: cnc.sr71
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: airstrike
		SquadSize: 1
		SquadOffset: 1792,1792,0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SupportPowerPaletteOrder: 5
	-SupportPowerChargeBar:
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
		Sequence: idle-anim
	-RenderSprites:
	RenderSprites:
		Image: cnctechnod
	-SpawnActorOnDeath:
	SpawnActorOnDeath:
		Actor: cnc.tech.nod.husk
	-InfiltrateForSupportPower:
	InfiltrateForSupportPower:
		Proxy: tech.stolen.nod
		Types: SpyInfiltrate

cnc.tmpl:
	Inherits: STEK
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	-HitShape:
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 0,-896,0, 0,896,0, 840,0,0, -706,0,0, -706,-768,0, -706,640,0
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,68,0,-12
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 8
		BuildLimit: 1
		Prerequisites: vehicleproduction, anyhq, ~structures.nod, ~techlevel.high
		Description: Unlocks production of Hi-tech Tier units and buildings.\n Maximum 1 can be built.\n  Special Ability: Atom Bomb\nFires an devastating Nuclear warhead.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Temple of Nod
	RenderDetectionCircle:
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled && !build-incomplete
	WithNukeLaunchAnimation:
		RequiresCondition: !build-incomplete
	WithNukeLaunchOverlay:
		RequiresCondition: !build-incomplete
		Sequence: smoke
	SupportPowerChargeBar:
	Power:
		Amount: -150
	NukePower@NodAtom:
		OrderName: NodNukeMissile
		PauseOnCondition: disabled
		Cursor: nuke
		Icon: abomb
		ChargeInterval: 13500
		Description: Atom Bomb
		LongDesc: Launches a devastating atomic bomb\nat a target location.
		BeginChargeSpeechNotification: AbombPrepping
		EndChargeSpeechNotification: AbombReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: AbombLaunchDetected
		MissileWeapon: atomic
		MissileDelay: 11
		SpawnOffset: 3c0,0,-1c512
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: atomicon
		FlashType: Nuke
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 1
	ProvidesPrerequisite:
		Prerequisite: anytech
	-SpawnActorsOnSell:
	SpawnActorsOnSell:
		ActorTypes: cnc.e1,cnc.e1,cnc.e1,cnc.tecn,cnc.tecn,cnc.e6
	RenderSprites:
		Image: cnctmpl
	Capturable:
		Types: building-sabotage
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	SpawnActorOnDeath:
		Actor: cnc.tmpl.husk
	InfiltrateForSupportPower:
		Proxy: tech.stolen.nod
		Types: SpyInfiltrate

cnc.tmpl.fake:
	Inherits: ^FakeBuilding
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^3x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 0,-896,0, 0,896,0, 840,0,0, -706,0,0, -706,-768,0, -706,640,0
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,68,0,-12
	SelectionDecorations:
	Tooltip:
		Name: Temple of Nod (Decoy)
		GenericName: Temple of Nod
		GenericVisibility: Enemy
		GenericStancePrefix: False
	Buildable:
		BuildPaletteOrder: 10
		Queue: Defense
		Prerequisites: vehicleproduction, anyhq, ~structures.nod, ~techlevel.high
		BuildLimit: 1
		Description: Appears like a Temple of Nod to your enemies.\nMaximum 1 can be built.
		Icon: fake-icon
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	RenderSprites:
		Image: cnctmpl
	Valued:
		Cost: 500
	Health:
		HP: 80000
	Armor:
		Type: Wood
	Explodes:
		DamageThreshold: 50
	WithBuildingBib:
	SelfHealing:
		Step: -100
		Delay: 3
		HealIfBelow: 100
		DamageCooldown: 0
		RequiresCondition: disabled

cnc.gtwr:
	Inherits: PBOX
	Inherits@97: ^BuildingAffectedByEMP
	Selectable:
		Bounds: 24,24
	Buildable:
		BuildPaletteOrder: 2
		Prerequisites: barracks, ~techlevel.low
		Description: Basic Anti-Infantry base defense.\nCan detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Tooltip:
		Name: Guard Tower
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled && !build-incomplete
	-Cargo:
	-AttackGarrisoned:
	AttackTurreted:
		RequiresCondition: !build-incomplete
	-RenderRangeCircle:
	RenderRangeCircle:
	Armament:
		Weapon: M60mg
		LocalOffset: 256,0,256
		MuzzleSequence: muzzle
	WithMuzzleOverlay:
	RenderSprites:
		Image: cncgtwr

cnc.gtur:
	Inherits: GUN
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		BuildPaletteOrder: 4
		Prerequisites: vehicleproduction, ~techlevel.medium
	Tooltip:
		Name: Gun Turret
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled && !lowpower && !build-incomplete
	Armament:
		PauseOnCondition: disabled
	AttackTurreted:
		PauseOnCondition: disabled
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	-SpawnActorsOnSell:
	RenderSprites:
		Image: cncgun

cnc.rtur:
	Inherits: ^Defense
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLE: ^DisableOnPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Selectable:
		Bounds: 36,36
	Valued:
		Cost: 1000
	Tooltip:
		Name: Railgun Turret
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 11
		# Prerequisites: cnc.eye, ~structures.gdi, ~techlevel.high
		Prerequisites: ~disabled
		Description: Advanced anti-tank defense, armed with Railgun\n  Strong vs Tanks, Vehicles\n  Weak vs Infantry
	Building:
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: Yes
	Turreted:
		TurnSpeed: 6
		InitialFacing: 128
		Offset: 0,26,-86
	Armament:
		Weapon: MedRail
		LocalOffset: 1468,-32,256
		PauseOnCondition: disabled || empdisable
	AttackTurreted:
		PauseOnCondition: disabled || empdisable
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -40
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled && !build-incomplete
	BodyOrientation:
	-SpawnActorsOnSell:
	RenderSprites:
		Image: cncrtur

cnc.ltur:
	Inherits: ^Defense
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLE: ^DisableOnPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Selectable:
		Bounds: 24,24
	Valued:
		Cost: 800
	Tooltip:
		Name: Laser Turret
	Buildable:
		BuildPaletteOrder: 11
		# Prerequisites: cnc.tmpl, ~structures.nod, ~techlevel.high
		Prerequisites: ~disabled
		Queue: Defense
		Description: Advanced Anti-Tank base defense, armed with Laser.\n Cloaked when out of combat.\n  Strong vs Tanks, Vehicles\n  Weak vs Infantry
	Building:
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	Turreted:
		TurnSpeed: 12
		InitialFacing: 56
		RealignDelay: -1
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
	BodyOrientation:
		UseClassicFacingFudge: True
	Armament:
		Weapon: LaserGun
		LocalOffset: 412,0,208
		PauseOnCondition: disabled || empdisable
	AttackPopupTurreted:
		CloseDelay: 75
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable
	WithMuzzleOverlay:
	Power:
		Amount: -40
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled && !build-incomplete
	-SpawnActorsOnSell:
	BodyOrientation:
	Cloak:
		InitialDelay: 90
		CloakDelay: 90
		CloakSound:
		UncloakSound: appear1.aud
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || empdisable
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	RenderSprites:
		Image: cncltur

cnc.atwr:
	Inherits: cnc.gtwr
	-Selectable:
	Selectable:
		Bounds: 24,24
		DecorationBounds: 22,48,0,-12
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 5
		Prerequisites: cnc.tech, ~structures.gdi, ~techlevel.high
		Description: All-purpose defensive structure.\n Can detect cloaked units.\n  Strong vs Aircraft, Tanks\n  Weak vs Infantry
	Tooltip:
		Name: Advanced Guard Tower
		GenericName: AGT
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled
	Turreted:
		TurnSpeed: 255
		Offset: 128,128,384
	-Armament:
	Armament@PRIMARY:
		Weapon: TowerMissile
		LocalOffset: 256,128,0, 256,-128,0
		LocalYaw: -100,100
	Armament@SECONDARY:
		Weapon: TowerAAMissile
		LocalOffset: 256,128,0, 256,-128,0
		LocalYaw: -100,100
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	Power:
		Amount: -60
	RenderSprites:
		Image: cncatwr

cnc.obli:
	Inherits: TSLA
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 5
		Prerequisites: ~disabled
		Description: Advanced base defense with an Laser.\n  Strong vs all Ground units\n  Weak vs Aircraft, Artillery
	Tooltip:
		Name: Obelisk of Light
		GenericName: Obelisk
	-WithTeslaChargeAnimation:
	-WithSpriteBody:
	WithChargeSpriteBody:
		Sequence: active
	-Armament:
	Armament:
		Weapon: Laser
		LocalOffset: 0,-85,1280
		PauseOnCondition: disabled || empdisable
	-AttackTesla:
	AttackCharges:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable
		ChargeLevel: 50
		ChargingCondition: charging
	AmbientSound:
		RequiresCondition: charging
		SoundFiles: obelpowr.aud
		Interval: 30, 40
	Power:
		Amount: -80
	DetectCloaked:
		Range: 3c0
		RequiresCondition: !disabled && !build-incomplete
	-SpawnActorsOnSell:
	RenderSprites:
		Image: cncobel

cnc.obli.new:
	Inherits: cnc.obli
	Buildable:
		Prerequisites: cnc.tmpl, ~structures.nod, ~techlevel.medium
	WithSpriteBody:
	-WithChargeSpriteBody:
	WithChargeOverlay:
		RequiresCondition: !build-incomplete
	-RenderSprites:
	RenderSprites:
		Image: cnc.obel.new
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding

cnc.agun:
	Inherits: AGUN
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 6
		Prerequisites: anyhq, ~structures.gdi, ~techlevel.medium
		Description: Anti-Air base defense.\nRequires power to operate.\n  Strong vs Aircraft\n  Weak vs Ground units
	Valued:
		Cost: 800
	Tooltip:
		Name: Anti-Air Gun
	-Armament:
	Armament@GAT0:
		Weapon: Gatt.0
		LocalOffset: 520,0,450
		MuzzleSequence: muzzle
		RequiresCondition: gattling == 0
	Armament@GAT1:
		Weapon: Gatt.1
		LocalOffset: 520,0,450
		MuzzleSequence: muzzle
		RequiresCondition: gattling == 1
	Armament@GAT2:
		Weapon: Gatt.2
		LocalOffset: 520,0,450
		MuzzleSequence: muzzle
		RequiresCondition: gattling == 2
	Armament@GAT3:
		Weapon: Gatt.3
		LocalOffset: 520,0,450
		MuzzleSequence: muzzle
		RequiresCondition: gattling == 3
	GrantConditionOnAttack:
		Condition: gattling
		RequiredShotsPerInstance: 1,7,14
		MaximumInstances: 3
		RevokeDelay: 40
		RevokeOnNewTarget: False
		RevokeAll: True
	RenderSprites:
		Image: cncagun

cnc.sam:
	Inherits: SAM
	Inherits@97: ^BuildingAffectedByEMP
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 6
		Prerequisites: anyhq, ~structures.nod, ~techlevel.medium
		Description: Cloaked Anti-Air base defense.\n  Strong vs Aircraft.\n  Weak vs Ground units.
	Cloak:
		InitialDelay: 125
		CloakDelay: 60
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || empdisable
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Turreted:
		RealignDelay: -1
	-WithBuildingBib:
	-AttackTurreted:
	AttackPopupTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled
	-SpawnActorsOnSell:
	RenderSprites:
		Image: cncsam

cnc.sbag:
	Inherits: SBAG
	Buildable:
		BuildPaletteOrder: 1
		Prerequisites: barracks, ~techlevel.low
	RenderSprites:
		Image: cncsbag

cnc.brik:
	Inherits: BRIK
	Buildable:
		BuildPaletteOrder: 7
		Prerequisites: vehicleproduction, ~techlevel.medium
	RenderSprites:
		Image: cncbrik

VGATE:
	Inherits: ^Gate
	Inherits@97: ^BuildingAffectedByEMP
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536
	Building:
		Footprint: x x x
		Dimensions: 1,3
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 8
		Prerequisites: vehicleproduction, ~techlevel.medium
		Description: Places an vertical gate.\nThe gate automatically opens for friendly units.\nBlocks enemy access into your base.
	Valued:
		Cost: 250
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !being-demolished
	CustomSellValue:
		Value: 50
	WithGateSpriteBody:
		WallConnections: 0,-1, 0,3
	LineBuildNode:
		Connections: 0,-1, 0,1
	Tooltip:
		Name: Gate I (vertical)

HGATE:
	Inherits: ^Gate
	Inherits@97: ^BuildingAffectedByEMP
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	Building:
		Footprint: xxx
		Dimensions: 3,1
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 9
		Prerequisites: vehicleproduction, ~techlevel.medium
		Description: Places an horizontal gate.\nThe gate automatically opens for friendly units.\nBlocks enemy access into your base.
	Valued:
		Cost: 250
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !being-demolished
	CustomSellValue:
		Value: 50
	WithGateSpriteBody:
		WallConnections: -1,0, 3,0
	LineBuildNode:
		Connections: -1,0, 1,0
	Tooltip:
		Name: Gate - (horizontal)

OILB:
	SpawnActorOnDeath:
		Actor: OILB.Husk

MISS:
	SpawnActorOnDeath:
		Actor: MISS.Husk

HOSP:
	SpawnActorOnDeath:
		Actor: HOSP.Husk

BIO:
	Exit@1:
		SpawnOffset: 0,-426,0
		ExitCell: 1,2
	Production:
		Produces: Biolab
	ProductionQueue:
		Type: Biolab
		Group: Infantry
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Biolab
	# RallyPoint:
	#	Offset: 0,3
	WithIdleOverlay@SMOKE:
		Sequence: idle-smoke
	Tooltip:
		Name: Biochemical Lab
	TooltipDescription@ally:
		Description: Renders Infantry units immune to Tiberium.\nProduces Visceroid units.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture for Tiberium Immunity on Infantry.\nEnables to produce Visceroids.
		ValidStances: Neutral, Enemy
	SpawnActorOnDeath:
		Actor: BIO.Husk

FCOM:
	RenderSprites:
		Image: acom
	SpawnActorOnDeath:
		Actor: FCOM.Husk

cnc.nuke:
	Inherits: ^TechBuilding
    Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^3x2Shape
	HitShape:
		TargetableOffsets: -355,-1024,0
	ProvidesPrerequisite:
		Prerequisite: anypower
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,68,0,-10
	OwnerLostAction:
		Action: ChangeOwner
	Building:
		Footprint: xXx xxX
		Dimensions: 3,2
		LocalCenterOffset: 0,-512,0
	Power:
		Amount: 300
	RevealsShroud:
		Range: 4c0
	CaptureManager:
	CapturableProgressBlink:
	Capturable:
		Types: building
	CapturableProgressBar:
	EngineerRepairable:
	WithBuildingBib:
	Tooltip:
		Name: Nuclear Plant
	TooltipDescription@ally:
		Description: Provides an tremendous amount of Power.
		ValidStances: Ally
	TooltipDescription@other:
		Description: Capture to gain +300 Power.
		ValidStances: Neutral, Enemy
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	AppearsOnMapPreview:
	GpsDot:
		String: Biohazard
	SpawnActorOnDeath:
		Actor: cnc.nuke.husk

cnc.lsrfpost:
	Inherits: ^Building
	Inherits@97: ^BuildingAffectedByEMP
	Inherits@IDISABLED: ^DisableOnLowPowerOrPowerDown
	Building:
		RequiresBaseProvider: true
		BuildSounds: constru2.aud, hvydoor1.aud
		UndeploySounds: cashturn.aud
		TerrainTypes: Clear,Road
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 2
	MustBeDestroyed:
		RequiredForShortGame: false
	RepairableBuilding:
		RepairPercent: 40
		RepairStep: 1400
		PlayerExperience: 15
	Sellable:
		SellSounds: cashturn.aud
	WithBuildingRepairDecoration:
		Image: allyrepair
		Sequence: repair
		ReferencePoint: Center
		Palette: player
		IsPlayerPalette: True
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 12
		# Prerequisites: cnc.tmpl, ~structures.nod, ~techlevel.high
		Prerequisites: ~disabled
		Description: Stops infantry and blocks enemy fire.\n Cannot be crushed by tanks.
	Valued:
		Cost: 400
	Tooltip:
		Name: Laser Fence
	Health:
		HP: 30000
	Armor:
		Type: Concrete
	LineBuild:
		Range: 10
		NodeTypes: laserfencenode
		SegmentType: cnc.lsrfsgmt
		SegmentsRequireNode: true
	LineBuildNode:
		Types: laserfencenode
	Power:
		Amount: -25
	RevealsShroud:
		Range: 2c0
	LineBuildSegmentExternalCondition:
		RequiresCondition: !disabled
		Condition: active-posts
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack
	-SpawnActorsOnSell:
	RenderSprites:
		Image: cnclsrfpost

cnc.lsrfsgmt:
	Inherits: ^Wall
	Tooltip:
		Name: Laser Fence
	LineBuild:
		NodeTypes: laserfence
	LineBuildNode:
		Types: laserfence
	-Crushable:
	-Sellable:
	Demolishable:
	-Targetable:
	-Building:
	EnergyWall:
		ActiveCondition: active-posts == 2
		Weapon: LaserFence
	GrantConditionOnLineBuildDirection@X:
		Direction: X
		Condition: laserfence-direction-x
	GrantConditionOnLineBuildDirection@Y:
		Direction: Y
		Condition: laserfence-direction-y
	-WithWallSpriteBody:
	ExternalCondition@ACTIVE:
		Condition: active-posts
	WithWallSpriteBody@XENABLED:
		RequiresCondition: laserfence-direction-x && active-posts == 2
		Type: laserfence
		Sequence: enabled-x
		Name: x-enabled
	WithWallSpriteBody@YENABLED:
		RequiresCondition: laserfence-direction-y && active-posts == 2
		Type: laserfence
		Sequence: enabled-y
		Name: y-enabled
	WithSpriteBody@XDISABLED:
		RequiresCondition: laserfence-direction-x && active-posts < 2
		Sequence: disabled-x
		Name: x-disabled
	WithSpriteBody@YDISABLED:
		RequiresCondition: laserfence-direction-y && active-posts < 2
		Sequence: disabled-y
		Name: y-disabled
	BlocksProjectiles:
		RequiresCondition: active-posts == 2
	DamageMultiplier:
		Modifier: 0
	Interactable:
		Bounds: 24, 24
	RenderSprites:
		Image: cnclsrfsgmt

refinery:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Refinery
	Buildable:
		Description: Refinery

anyhq:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Comm. Center
	Buildable:
		Description: Comm. Center

anytech:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Hi-tech Tier
	Buildable:
		Description: Hi-tech Tier

vehicleproduction:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle production
	Buildable:
		Description: Vehicle production

planeproduction:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Airfield
	Buildable:
		Description: Airfield

tech.stolen.gdi:
	AlwaysVisible:
	ProvidesPrerequisite:

tech.stolen.nod:
	AlwaysVisible:
	ProvidesPrerequisite:
